$date
	Tue Jul 29 12:49:01 2025
$end
$version
	Icarus Verilog
$end
$timescale
	1ps
$end
$scope module v60_cpu_tb $end
$var wire 16 ! psw_out [15:0] $end
$var wire 32 " pc_out [31:0] $end
$var wire 1 # mem_wr $end
$var wire 32 $ mem_wdata [31:0] $end
$var wire 2 % mem_size [1:0] $end
$var wire 1 & mem_req $end
$var wire 32 ' mem_addr [31:0] $end
$var wire 8 ( int_vector [7:0] $end
$var wire 1 ) int_ack $end
$var wire 1 * halted $end
$var reg 1 + clk $end
$var reg 8 , irq [7:0] $end
$var reg 32 - mem_rdata [31:0] $end
$var reg 1 . mem_ready $end
$var reg 1 / nmi $end
$var reg 1 0 rst_n $end
$scope module dut $end
$var wire 1 + clk $end
$var wire 1 ) int_ack $end
$var wire 8 1 int_vector [7:0] $end
$var wire 8 2 irq [7:0] $end
$var wire 32 3 mem_rdata [31:0] $end
$var wire 1 . mem_ready $end
$var wire 1 / nmi $end
$var wire 32 4 pc_out [31:0] $end
$var wire 16 5 psw_out [15:0] $end
$var wire 1 0 rst_n $end
$var wire 1 6 uses_memory $end
$var wire 5 7 src_reg [4:0] $end
$var wire 32 8 rf_rdata2 [31:0] $end
$var wire 32 9 rf_rdata1 [31:0] $end
$var wire 8 : opcode [7:0] $end
$var wire 32 ; immediate [31:0] $end
$var wire 1 * halted $end
$var wire 3 < format [2:0] $end
$var wire 5 = dst_reg [4:0] $end
$var wire 3 > decode_length [2:0] $end
$var wire 1 ? decode_illegal $end
$var wire 2 @ data_type [1:0] $end
$var wire 1 A alu_z_out $end
$var wire 1 B alu_v_out $end
$var wire 1 C alu_s_out $end
$var wire 32 D alu_result [31:0] $end
$var wire 1 E alu_c_out $end
$var reg 32 F alu_a [31:0] $end
$var reg 32 G alu_b [31:0] $end
$var reg 4 H alu_op [3:0] $end
$var reg 48 I decode_inst [47:0] $end
$var reg 1 J decode_valid $end
$var reg 1 K exception_pending $end
$var reg 8 L exception_vector [7:0] $end
$var reg 48 M inst_buffer [47:0] $end
$var reg 3 N inst_length_reg [2:0] $end
$var reg 1 O inst_valid $end
$var reg 32 P mem_addr [31:0] $end
$var reg 1 & mem_req $end
$var reg 2 Q mem_size [1:0] $end
$var reg 32 R mem_wdata [31:0] $end
$var reg 1 # mem_wr $end
$var reg 32 S pc [31:0] $end
$var reg 32 T pc_next [31:0] $end
$var reg 16 U psw [15:0] $end
$var reg 16 V psw_next [15:0] $end
$var reg 5 W rf_raddr1 [4:0] $end
$var reg 5 X rf_raddr2 [4:0] $end
$var reg 5 Y rf_waddr [4:0] $end
$var reg 32 Z rf_wdata [31:0] $end
$var reg 1 [ rf_wen $end
$var reg 4 \ state [3:0] $end
$var reg 4 ] state_next [3:0] $end
$scope module alu $end
$var wire 32 ^ a [31:0] $end
$var wire 32 _ b [31:0] $end
$var wire 4 ` op [3:0] $end
$var wire 5 a shift_amount [4:0] $end
$var reg 33 b add_result [32:0] $end
$var reg 1 E c_out $end
$var reg 32 c result [31:0] $end
$var reg 1 C s_out $end
$var reg 33 d sub_result [32:0] $end
$var reg 1 B v_out $end
$var reg 1 A z_out $end
$upscope $end
$scope module decoder $end
$var wire 48 e inst [47:0] $end
$var wire 1 J valid $end
$var wire 8 f opcode_byte [7:0] $end
$var reg 2 g data_type [1:0] $end
$var reg 2 h displacement_size [1:0] $end
$var reg 5 i dst_reg [4:0] $end
$var reg 3 j format [2:0] $end
$var reg 1 k has_modrm $end
$var reg 1 l has_sib $end
$var reg 1 ? illegal $end
$var reg 32 m immediate [31:0] $end
$var reg 2 n immediate_size [1:0] $end
$var reg 3 o inst_length [2:0] $end
$var reg 2 p mod_field [1:0] $end
$var reg 8 q modrm [7:0] $end
$var reg 8 r opcode [7:0] $end
$var reg 3 s reg_field [2:0] $end
$var reg 3 t rm_field [2:0] $end
$var reg 5 u src_reg [4:0] $end
$var reg 1 6 uses_memory $end
$upscope $end
$scope module regfile $end
$var wire 1 + clk $end
$var wire 5 v raddr1 [4:0] $end
$var wire 5 w raddr2 [4:0] $end
$var wire 1 0 rst_n $end
$var wire 5 x waddr [4:0] $end
$var wire 32 y wdata [31:0] $end
$var wire 1 [ wen $end
$var reg 32 z rdata1 [31:0] $end
$var reg 32 { rdata2 [31:0] $end
$scope begin $ivl_for_loop0 $end
$var integer 32 | i [31:0] $end
$upscope $end
$upscope $end
$upscope $end
$scope begin $ivl_for_loop1 $end
$var integer 32 } i [31:0] $end
$upscope $end
$upscope $end
$enddefinitions $end
#0
$dumpvars
b10000000000 }
b100000 |
bx {
bx z
bx y
bx x
bx w
bx v
b0 u
bx t
bx s
bx r
bx q
bx p
b1 o
b0 n
bx m
0l
0k
b0 j
b0 i
b0 h
b10 g
bx f
bx e
bx d
b0 c
bx b
bx a
bx `
bx _
bx ^
b1 ]
b0 \
0[
bx Z
bx Y
bx X
bx W
b0 V
b0 U
b0 T
b0 S
b0 R
b10 Q
b0 P
0O
b0 N
b0 M
b0 L
0K
xJ
bx I
bx H
bx G
bx F
0E
b0 D
0C
0B
1A
b10 @
1?
b1 >
b0 =
b0 <
bx ;
bx :
bx 9
bx 8
b0 7
06
b0 5
b0 4
bx 3
b0 2
b0 1
00
0/
0.
bx -
b0 ,
0+
0*
0)
b0 (
b0 '
0&
b10 %
b0 $
0#
b0 "
b0 !
$end
#5000
b100000 |
1+
#10000
0+
#15000
b100000 |
1+
#20000
0+
10
#25000
1?
bx ;
bx m
1&
b1 \
1+
#30000
0+
#35000
1?
bx ;
bx m
b10 ]
1&
1.
b10111000001101000001001000000000 -
b10111000001101000001001000000000 3
1+
#40000
0+
#45000
b101 >
b101 o
b10 n
b1000 =
b1000 i
b10 <
b10 j
b10111000 :
b10111000 r
b10111000 f
0?
b0 ;
b0 m
b11 ]
1J
b101110000011010000010010000000000000000000000000 I
b101110000011010000010010000000000000000000000000 e
0&
1O
b101110000011010000010010000000000000000000000000 M
b10 \
1+
#50000
0+
#55000
b0 F
b0 ^
b0 a
b0 8
b0 {
b0 9
b0 z
b10 n
b101 >
b101 o
b1000 =
b1000 i
b10 <
b10 j
b101 ]
b0 G
b0 _
b1000 X
b1000 w
b0 W
b0 v
b101 N
b11 \
0.
1+
#60000
0+
#65000
b10 n
b101 >
b101 o
b1000 =
b1000 i
b10 <
b10 j
b1 ]
b100 V
b101 T
b0 Z
b0 y
b1000 Y
b1000 x
1[
b101 \
1+
#70000
0+
#75000
b10 n
b101 >
b101 o
b1000 =
b1000 i
b10 <
b10 j
b101 '
b101 P
1&
0[
b100 !
b100 5
b100 U
b101 "
b101 4
b101 S
b1 \
1+
#80000
0+
#85000
b10 n
b101 >
b101 o
b1000 =
b1000 i
b10 <
b10 j
b10 ]
b101 '
b101 P
1&
1.
b10111001011110000101011000000000 -
b10111001011110000101011000000000 3
1+
#90000
0+
#95000
b10111001 :
b10111001 r
b10111001 f
b1011100000110100 ;
b1011100000110100 m
b10 n
b101 >
b101 o
b1001 =
b1001 i
b10 <
b10 j
b11 ]
b101110010111100001010110000000001011100000110100 I
b101110010111100001010110000000001011100000110100 e
b0 '
b0 P
0&
b101110010111100001010110000000001011100000110100 M
b10 \
1+
#100000
0+
#105000
b10100 a
b10 n
b101 >
b101 o
b1011100000110100 ;
b1011100000110100 m
b1001 =
b1001 i
b10 <
b10 j
b101 ]
b1011100000110100 G
b1011100000110100 _
b1001 X
b1001 w
0.
b11 \
1+
#110000
0+
#115000
b10 n
b101 >
b101 o
b1011100000110100 ;
b1011100000110100 m
b1001 =
b1001 i
b10 <
b10 j
b1 ]
b1010 T
b1001 Y
b1001 x
1[
b101 \
1+
#120000
0+
#125000
b10 n
b101 >
b101 o
b1011100000110100 ;
b1011100000110100 m
b1001 =
b1001 i
b10 <
b10 j
b1010 '
b1010 P
1&
0[
b1010 "
b1010 4
b1010 S
b1 \
1+
#130000
0+
#135000
b10 n
b101 >
b101 o
b1011100000110100 ;
b1011100000110100 m
b1001 =
b1001 i
b10 <
b10 j
b10 ]
b1010 '
b1010 P
1&
1.
b1110000011001000011110100 -
b1110000011001000011110100 3
1+
#140000
0+
#145000
b1 7
b1 u
b1 t
b0 s
b11 p
b11000001 q
1k
b1 :
b1 r
b1 f
b0 n
b10 >
b10 o
b11111111111111111111111110010000 ;
b11111111111111111111111110010000 m
b0 =
b0 i
b100 <
b100 j
b11 ]
b11100000110010000111101001011100101111000 I
b11100000110010000111101001011100101111000 e
b0 '
b0 P
0&
b11100000110010000111101001011100101111000 M
b10 \
1+
#150000
0+
#155000
b0 a
1k
b10 >
b10 o
b11111111111111111111111110010000 ;
b11111111111111111111111110010000 m
b1 7
b1 u
b100 <
b100 j
b101 ]
b0 G
b0 _
b0 X
b0 w
b1 W
b1 v
b10 N
b11 \
0.
1+
#160000
0+
#165000
1k
b10 >
b10 o
b11111111111111111111111110010000 ;
b11111111111111111111111110010000 m
b1 7
b1 u
b100 <
b100 j
b1 ]
b1100 T
b0 Y
b0 x
1[
b101 \
1+
#170000
0+
#175000
1k
b10 >
b10 o
b11111111111111111111111110010000 ;
b11111111111111111111111110010000 m
b1 7
b1 u
b100 <
b100 j
b1100 '
b1100 P
1&
0[
b1100 "
b1100 4
b1100 S
b1 \
1+
#180000
0+
#185000
1k
b10 >
b10 o
b11111111111111111111111110010000 ;
b11111111111111111111111110010000 m
b1 7
b1 u
b100 <
b100 j
b10 ]
b1100 '
b1100 P
1&
1.
b10010000111101000000000000000000 -
b10010000111101000000000000000000 3
1+
#190000
0+
#195000
b10010000 :
b10010000 r
b10010000 f
b0 =
b0 i
b100 t
b110 s
b11110100 q
0k
b1 >
b1 o
b0 ;
b0 m
b0 7
b0 u
b0 <
b0 j
b11 ]
b100100001111010000000000000000000000000111000001 I
b100100001111010000000000000000000000000111000001 e
b0 '
b0 P
0&
b100100001111010000000000000000000000000111000001 M
b10 \
1+
#200000
0+
#205000
b101 ]
b0 W
b0 v
0.
b1 N
b11 \
1+
#210000
0+
#215000
b1 ]
b1101 T
1[
b101 \
1+
#220000
0+
#225000
b1101 '
b1101 P
1&
0[
b1101 "
b1101 4
b1101 S
b1 \
1+
#230000
0+
#235000
b10 ]
b1101 '
b1101 P
1&
1.
b11110100000000000000000000000000 -
b11110100000000000000000000000000 3
1+
#240000
0+
#245000
b11110100 :
b11110100 r
b11110100 f
b11 ]
b111101000000000000000000000000001001000011110100 I
b111101000000000000000000000000001001000011110100 e
b0 '
b0 P
0&
b111101000000000000000000000000001001000011110100 M
b10 \
1+
#250000
0+
#255000
b111 ]
b11 \
0.
1+
#260000
0+
#265000
1*
b111 \
1+
#270000
0+
#275000
1+
#280000
0+
#285000
1+
#290000
0+
#295000
1+
#300000
0+
#305000
1+
#310000
0+
#315000
1+
#320000
0+
#325000
1+
#330000
0+
#335000
1+
#340000
0+
#345000
1+
#350000
0+
#355000
1+
#360000
0+
#365000
1+
#370000
0+
#375000
1+
#380000
0+
#385000
1+
#390000
0+
#395000
1+
#400000
0+
#405000
1+
#410000
0+
#415000
1+
#420000
0+
#425000
1+
#430000
0+
#435000
1+
#440000
0+
#445000
1+
#450000
0+
#455000
1+
#460000
0+
#465000
1+
#470000
0+
#475000
1+
#480000
0+
#485000
1+
#490000
0+
#495000
1+
#500000
0+
#505000
1+
#510000
0+
#515000
1+
#520000
0+
#525000
1+
#530000
0+
#535000
1+
#540000
0+
#545000
1+
#550000
0+
#555000
1+
#560000
0+
#565000
1+
#570000
0+
#575000
1+
#580000
0+
#585000
1+
#590000
0+
#595000
1+
#600000
0+
#605000
1+
#610000
0+
#615000
1+
#620000
0+
#625000
1+
#630000
0+
#635000
1+
#640000
0+
#645000
1+
#650000
0+
#655000
1+
#660000
0+
#665000
1+
#670000
0+
#675000
1+
#680000
0+
#685000
1+
#690000
0+
#695000
1+
#700000
0+
#705000
1+
#710000
0+
#715000
1+
#720000
0+
#725000
1+
#730000
0+
#735000
1+
#740000
0+
#745000
1+
#750000
0+
#755000
1+
#760000
0+
#765000
1+
#770000
0+
#775000
1+
#780000
0+
#785000
1+
#790000
0+
#795000
1+
#800000
0+
#805000
1+
#810000
0+
#815000
1+
#820000
0+
#825000
1+
#830000
0+
#835000
1+
#840000
0+
#845000
1+
#850000
0+
#855000
1+
#860000
0+
#865000
1+
#870000
0+
#875000
1+
#880000
0+
#885000
1+
#890000
0+
#895000
1+
#900000
0+
#905000
1+
#910000
0+
#915000
1+
#920000
0+
#925000
1+
#930000
0+
#935000
1+
#940000
0+
#945000
1+
#950000
0+
#955000
1+
#960000
0+
#965000
1+
#970000
0+
#975000
1+
#980000
0+
#985000
1+
#990000
0+
#995000
1+
#1000000
0+
#1005000
1+
#1010000
0+
#1015000
1+
#1020000
0+
#1025000
1+
#1030000
0+
#1035000
1+
#1040000
0+
#1045000
1+
#1050000
0+
#1055000
1+
#1060000
0+
#1065000
1+
#1070000
0+
b1 ,
b1 2
#1075000
1+
#1080000
0+
#1085000
1+
#1090000
0+
#1095000
1+
#1100000
0+
#1105000
1+
#1110000
0+
#1115000
1+
#1120000
0+
#1125000
1+
#1130000
0+
#1135000
1+
#1140000
0+
#1145000
1+
#1150000
0+
#1155000
1+
#1160000
0+
#1165000
1+
#1170000
0+
b0 ,
b0 2
#1175000
1+
#1180000
0+
#1185000
1+
#1190000
0+
#1195000
1+
#1200000
0+
#1205000
1+
#1210000
0+
#1215000
1+
#1220000
0+
#1225000
1+
#1230000
0+
#1235000
1+
#1240000
0+
#1245000
1+
#1250000
0+
#1255000
1+
#1260000
0+
#1265000
1+
#1270000
0+
#1275000
1+
#1280000
0+
#1285000
1+
#1290000
0+
#1295000
1+
#1300000
0+
#1305000
1+
#1310000
0+
#1315000
1+
#1320000
0+
#1325000
1+
#1330000
0+
#1335000
1+
#1340000
0+
#1345000
1+
#1350000
0+
#1355000
1+
#1360000
0+
#1365000
1+
#1370000
0+
#1375000
1+
#1380000
0+
#1385000
1+
#1390000
0+
#1395000
1+
#1400000
0+
#1405000
1+
#1410000
0+
#1415000
1+
#1420000
0+
#1425000
1+
#1430000
0+
#1435000
1+
#1440000
0+
#1445000
1+
#1450000
0+
#1455000
1+
#1460000
0+
#1465000
1+
#1470000
0+
#1475000
1+
#1480000
0+
#1485000
1+
#1490000
0+
#1495000
1+
#1500000
0+
#1505000
1+
#1510000
0+
#1515000
1+
#1520000
0+
#1525000
1+
#1530000
0+
#1535000
1+
#1540000
0+
#1545000
1+
#1550000
0+
#1555000
1+
#1560000
0+
#1565000
1+
#1570000
0+
#1575000
1+
#1580000
0+
#1585000
1+
#1590000
0+
#1595000
1+
#1600000
0+
#1605000
1+
#1610000
0+
#1615000
1+
#1620000
0+
#1625000
1+
#1630000
0+
#1635000
1+
#1640000
0+
#1645000
1+
#1650000
0+
#1655000
1+
#1660000
0+
#1665000
1+
#1670000
0+
